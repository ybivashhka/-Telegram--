# Трекер привычек (Telegram-бот)
Интерактивный Telegram-бот на Python для трекинга привычек. Позволяет добавлять привычки через диалог, отмечать их выполнение, просматривать прогресс, получать статистику в виде графиков и удалять привычки. Использует aiogram 3.x для асинхронной работы с Telegram API, SQLite для хранения данных и matplotlib для визуализации. Проект организован модульно, с обработкой ошибок и логированием, что делает его надежным и удобным для поддержки.

Возможности





- Добавление привычек: Команда /add запускает диалог для ввода названия привычки. Пользователь может отменить действие с помощью /cancel.



- Отметка выполнения: Команда /track показывает список привычек с пагинацией (по 5 привычек на страницу) через интерактивные кнопки.



- Просмотр прогресса: Команда /progress позволяет выбрать привычку (с пагинацией) и показывает процент выполнения за неделю.



- Статистика: Команда /stats предлагает выбрать период (неделя или месяц) и отображает график прогресса всех привычек.



- Удаление привычек: Команда /delete позволяет выбрать привычку (с пагинацией) и требует подтверждения через кнопки.



- Отмена действий: Команда /cancel прерывает текущий диалог (например, при добавлении привычки).



- Хранение данных: Используется SQLite для надежного хранения привычек и их прогресса.



- Логирование: Все действия и ошибки логируются для удобной отладки.



- Визуализация: Графики создаются с помощью matplotlib и отправляются в чат как изображения.

Структура проекта

- bot.py: Основной файл для запуска бота, настройка aiogram и логирования.



- database.py: Модуль для работы с SQLite (инициализация базы, добавление, обновление, удаление привычек).



- handlers.py: Обработчики команд Telegram (/start, /add, /track, /progress, /stats, /delete, /cancel) и callback-запросов для кнопок.



- visualizer.py: Модуль для генерации графиков статистики с использованием matplotlib.



- states.py: Определение состояний для конечного автомата (FSM) для диалога добавления привычек.



- .gitignore: Игнорирует временные файлы, базу данных и сгенерированные графики.

Установка





1. Склонируйте репозиторий:

          git clone https://github.com/yourusername/habit-tracker-bot.git
  
          cd habit-tracker-bot



2. Установите зависимости:

          pip install aiogram matplotlib

3. Убедитесь, что используется aiogram версии 3.x:

          pip show aiogram

    Если версия ниже, обновите:

          pip install aiogram --upgrade



4. Создайте Telegram-бота через @BotFather и получите токен.



    Вставьте токен в переменную API_TOKEN в файле bot.py.



5. (Опционально) Если графики не создаются, установите backend для matplotlib:

          pip install pillow

6. И добавьте в начало visualizer.py:

          import matplotlib
          matplotlib.use('Agg')

Использование

  - Запустите бота:

          python bot.py

Пример графика

<img width="767" height="733" alt="image" src="https://github.com/user-attachments/assets/42be3dd7-98ae-426e-872c-4bfba64f5456" />

Требования





  - Python 3+



  - aiogram (версия 3.x) для работы с Telegram API



  - matplotlib для построения графиков



  - pillow (опционально, для поддержки PNG в matplotlib)



  - SQLite (встроен в Python)
